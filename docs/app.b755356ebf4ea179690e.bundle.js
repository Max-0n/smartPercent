!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";e.__esModule=!0,n(1);var r=n(2),o=n(4).name;console.info("%cCreated by Max0n: «"+o+"»","color: #fff; font-weight: bold; background: #47c; padding:3px 5px;"),r.default(document.getElementById("mainChart"))},function(t,e,n){},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e.default=function(t){var e=new Array,n=new Array,o=r.getRandomInt(90,360),i=t;if(!i.getAttribute("viewBox"))throw new Error('Not found "viewBox" property of svgElement');var a,u=+i.getAttribute("viewBox").split(" ")[2],s=+i.getAttribute("viewBox").split(" ")[3],c=0,l=[["Stock",10,"#4dde5e","","Moscow"],["Stock",10,"","","Sochi"],["Stock",10,"","","Bank 1"],["Stock",10,"","","Bank 2"],["Stock",10,"#79ec87","","Bank 3"],["Stock2",10,"#fc8f30","","Berlin"],["Stock2",10,"","","Bank 1"],["Stock2",10,"","","Bank 2"],["Stock2",10,"","","Bank 3"],["Stock2",10,"#fcd053","","Bank 4"],["Stock4",10,"#75c6de","","Pekin"],["Stock4",10,"","","Bank 1"],["Stock4",10,"","","Bank 2"],["Stock4",10,"","","Bank 3"],["Stock4",10,"#95e9fd","","Bank 4"]];console.info(u,s,i.clientWidth/2),l=l.map((function(t,e,n){if(!t[2]){for(var r=n[e-1][2],o="",i=0;o.length<6;)n[e+ ++i][2]&&(o=n[e+i][2],i++);var a=parseInt(o.substr(1,2),16),u=parseInt(o.substr(3,2),16),s=parseInt(o.substr(5,2),16),c=parseInt(r.substr(1,2),16),l=parseInt(r.substr(3,2),16),d=parseInt(r.substr(5,2),16),p=(a-c)/i,f=(u-l)/i,b=(s-d)/i;t[2]="#",t[2]+=Math.round(c+p).toString(16),t[2]+=Math.round(l+f).toString(16),t[2]+=Math.round(d+b).toString(16)}return t})),a=l.reduce((function(t,e){return t+e[1]}),0),a=Math.round(100*a)/100;var d=function(t,e,n){var r=t/(a/100)*3.6,i=360/a*n,c=(o-i-r)*Math.PI/180,l=(o-i)*Math.PI/180;return"M "+(u/2+e*Math.cos(l))+","+(s/2-e*Math.sin(l))+" A "+e+","+e+" 0 "+ +(r>180)+" 1 "+(u/2+e*Math.cos(c))+","+(s/2-e*Math.sin(c))};l.forEach((function(t){var o=c,u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("stroke-width","10px"),u.setAttribute("stroke",t[2]),u.setAttribute("fill","none"),u.setAttribute("d",d(0,90,0)),t[3]&&(u.setAttribute("style","cursor: pointer"),u.onclick=function(){window.open(t[3],"_blank")}),i.appendChild(u),r.animate({duration:1900,delta:r.makeEaseInOut(r.quad),step:function(e){u.setAttribute("d",d(e*t[1],80*e+90,e*o))}}),r.animate({el:t,duration:1900,delta:r.makeEaseInOut(r.quad),step:function(t){u.setAttribute("stroke-width",100*t+"px")}}),u.onmouseover=function(){i.removeChild(n[0]),e[2].textContent=t[4],e[3].textContent=t[0],e[4].textContent="$"+t[1].toLocaleString("en"),i.appendChild(n[1]),r.animate({el:u,duration:2e3,delta:r.makeEaseOut(r.elastic,0),step:function(t){u.setAttribute("stroke-width",40*t+100+"px"),u.setAttribute("opacity",String(-.6*t+1))}})},u.onmouseout=function(){i.removeChild(n[1]),e[0].textContent="Capital",e[1].textContent="$"+a.toLocaleString("en"),i.appendChild(n[0]),r.animate({el:u,duration:2e3,delta:r.makeEaseOut(r.elastic,0),step:function(t){u.setAttribute("stroke-width",-40*t+140+"px"),u.setAttribute("opacity",String(.6*t+.4))}})},c+=t[1]}));for(var p=0;p<5;p++)p<2&&(n[p]=document.createElementNS("http://www.w3.org/2000/svg","text"),n[p].setAttribute("text-anchor","middle"),n[p].setAttribute("font-family","Helvetica"),n[p].setAttribute("opacity","1"),n[p].setAttribute("stroke-width","0"),n[p].setAttribute("text-rendering","geometricPrecision"),e[p]=document.createElementNS("http://www.w3.org/2000/svg","tspan"),e[p].setAttribute("x",""+u/2),e[p].setAttribute("dy","50"),0===p&&(n[p].setAttribute("font-size","40"),n[p].setAttribute("font-weight","bold"),n[p].setAttribute("y","190"),e[0].textContent="Total"),1===p&&(n[p].setAttribute("font-size","22"),n[p].setAttribute("font-weight","none"),n[p].setAttribute("y","200"),e[1].textContent="$"+a.toLocaleString("en")),n[0].appendChild(e[p]),i.appendChild(n[p])),p>=2&&(e[p]=document.createElementNS("http://www.w3.org/2000/svg","tspan"),e[p].setAttribute("x",""+u/2),e[p].setAttribute("dy","30"),n[1].appendChild(e[p]))}},function(t,e,n){"use strict";function r(t){return t}e.__esModule=!0,e.animate=function(t){var e=t.el||!1,n=+new Date,o=t.delta||r,i=t.from||0,a=t.to||0;if(e)clearInterval(t.el.timer),t.el.timer=setInterval((function(){var e=(+new Date-n)/t.duration;e>1&&(e=1),t.step(o(e),i,a),1===e&&(clearInterval(t.el.timer),t.complete&&t.complete())}),t.delay||20);else var u=setInterval((function(){var e=(+new Date-n)/t.duration;e>1&&(e=1),t.step(o(e),i,a),1===e&&(clearInterval(u),t.complete&&t.complete())}),t.delay||15)},e.elastic=function(t){return Math.pow(2,15*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},e.quad=function(t){return Math.pow(t,2)},e.makeEaseInOut=function(t){return function(e){return e<.5?t(2*e)/2:(2-t(2*(1-e)))/2}},e.makeEaseOut=function(t,e){return function(n){return 1-t(1-n,e)}},e.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t){t.exports=JSON.parse('{"name":"SmartPercent","version":"0.1.0","description":"Percent calculator of stocks.","repository":{"type":"git","url":"git@github.com:Max-0n/smartPercent.git"},"engines":{"node":"14.2.0"},"scripts":{"start":"webpack-dev-server --mode=development --open","test":"tslint \'src/**/*.ts\'; sass-lint \'src/**/*.scss\' -v -q; pug-lint src","build":"webpack --mode=production","build:dev":"webpack --mode=development"},"devDependencies":{"clean-webpack-plugin":"^3.0.0","css-loader":"^3.5.3","file-loader":"^6.0.0","html-webpack-plugin":"^4.3.0","mini-css-extract-plugin":"^0.9.0","node-sass":"^4.14.1","pug":"^2.0.4","pug-lint":"^2.6.0","pug-loader":"^2.4.0","puglint-webpack-plugin":"^1.0.3","sass-lint":"^1.13.1","sass-lint-webpack":"^1.0.2","sass-loader":"^8.0.2","ts-loader":"^7.0.3","tslint":"^6.1.2","tslint-loader":"^3.5.4","typescript":"^3.8.3","webpack":"^4.43.0","webpack-cli":"^3.3.11","webpack-dev-server":"^3.11.0"}}')}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FuaW1hdGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhcHBOYW1lIiwiY29uc29sZSIsImluZm8iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaHRtbEVsZW1lbnQiLCJzcGFuQXJyIiwiQXJyYXkiLCJ0ZXh0QXJyIiwicmFuZCIsImdldFJhbmRvbUludCIsInN2ZyIsImdldEF0dHJpYnV0ZSIsIkVycm9yIiwiY2FwaXRhbCIsInN2Z1dpZHRoIiwic3BsaXQiLCJzdmdIZWlnaHQiLCJhbmdsZVZhbCIsInZhbEFycmF5IiwiY2xpZW50V2lkdGgiLCJtYXAiLCJlbGVtZW50IiwiaW5kZXgiLCJhcnJheSIsImZyb21SR0IiLCJ0b1JHQiIsInN0ZXAiLCJsZW5ndGgiLCJ0b1IiLCJwYXJzZUludCIsInN1YnN0ciIsInRvRyIsInRvQiIsImZyb21SIiwiZnJvbUciLCJmcm9tQiIsInNSIiwic0ciLCJzQiIsIk1hdGgiLCJyb3VuZCIsInRvU3RyaW5nIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50VmFsdWUiLCJtYWtlQXJjIiwicmFkIiwibWFrZUFuZ2xlIiwiYWxwaGEiLCJhbmdsZSIsImEiLCJQSSIsImIiLCJjb3MiLCJzaW4iLCJmb3JFYWNoIiwicGF0aCIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsIm9uY2xpY2siLCJ3aW5kb3ciLCJvcGVuIiwiYXBwZW5kQ2hpbGQiLCJhbmltYXRlIiwiZHVyYXRpb24iLCJkZWx0YSIsIm1ha2VFYXNlSW5PdXQiLCJxdWFkIiwiZWwiLCJvbm1vdXNlb3ZlciIsInJlbW92ZUNoaWxkIiwidGV4dENvbnRlbnQiLCJ0b0xvY2FsZVN0cmluZyIsIm1ha2VFYXNlT3V0IiwiZWxhc3RpYyIsIlN0cmluZyIsIm9ubW91c2VvdXQiLCJzcGFuIiwibGluZWFyIiwicHJvZ3Jlc3MiLCJvcHRzIiwic3RhcnQiLCJEYXRlIiwiZnJvbSIsInRvIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJjb21wbGV0ZSIsImRlbGF5IiwicG93IiwieCIsIm1pbiIsIm1heCIsImZsb29yIiwicmFuZG9tIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJ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Y0FBY0wsRUFBS1osR0FBR2tCLE9BQ3RCTixFQUFLUSxVQUFZUixFQUFLUSxjQUV2QlIsRUFBS1MsT0FBUyxTQUVqQixJQUFNLEVBQVFGLGFBQVksV0FDeEIsSUFBSVIsSUFBYSxJQUFJRyxLQUFTRCxHQUFTRCxFQUFLaEIsU0FFeENlLEVBQVcsSUFBS0EsRUFBVyxHQUUvQkMsRUFBS3RELEtBQUt1QyxFQUFNYyxHQUFXSSxFQUFNQyxHQUVoQixJQUFiTCxJQUNGTSxjQUFjLEdBQ2RMLEVBQUtRLFVBQVlSLEVBQUtRLGNBRXZCUixFQUFLUyxPQUFTLEtBU3JCLG1CQUF3QlYsR0FDdEIsT0FBT3hDLEtBQUttRCxJQUFJLEVBQW9CLElBQWhCWCxFQUFXLElBQVd4QyxLQUFLYyxJQUFjLEdBQVZkLEtBQUtZLEdBQVUsSUFBTSxFQUFJNEIsSUFHOUUsZ0JBQXFCQSxHQUNuQixPQUFPeEMsS0FBS21ELElBQUlYLEVBQVUsSUFHNUIseUJBQThCZCxHQUM1QixPQUFPLFNBQVNjLEdBQ2QsT0FBSUEsRUFBVyxHQUFhZCxFQUFpQixFQUFYYyxHQUFnQixHQUMxQyxFQUFJZCxFQUF1QixHQUFoQixFQUFJYyxLQUFrQixJQUk3Qyx1QkFBNEJkLEVBQVkwQixHQUN0QyxPQUFPLFNBQVNaLEdBQ2QsT0FBTyxFQUFJZCxFQUFNLEVBQUljLEVBQVVZLEtBS25DLHdCQUE4QkMsRUFBYUMsR0FDekMsT0FBT3RELEtBQUt1RCxNQUFNdkQsS0FBS3dELFVBQVlGLEVBQU1ELEVBQU0sSUFBTUEsSSIsImZpbGUiOiJhcHAuYjc1NTM1NmViZjRlYTE3OTY5MGUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwicmVxdWlyZSgnLi9zdHlsZS5zY3NzJyk7XHJcbmltcG9ydCBtYWluQ2hhcnQgZnJvbSAnLi9jaGFydCc7XHJcbmNvbnN0IGFwcE5hbWUgPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS5uYW1lO1xyXG5cclxuY29uc29sZS5pbmZvKGAlY0NyZWF0ZWQgYnkgTWF4MG46IMKrJHthcHBOYW1lfcK7YCwgJ2NvbG9yOiAjZmZmOyBmb250LXdlaWdodDogYm9sZDsgYmFja2dyb3VuZDogIzQ3YzsgcGFkZGluZzozcHggNXB4OycpO1xyXG5tYWluQ2hhcnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DaGFydCcpKTtcclxuIiwiaW1wb3J0IHsgZ2V0UmFuZG9tSW50LCBhbmltYXRlLCBtYWtlRWFzZUluT3V0LCBtYWtlRWFzZU91dCwgZWxhc3RpYywgcXVhZCB9IGZyb20gJy4vYW5pbWF0ZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoaHRtbEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgY29uc3Qgc3BhbkFycjogU1ZHVGV4dEVsZW1lbnRbXSA9IG5ldyBBcnJheSgpO1xyXG4gIGNvbnN0IHRleHRBcnI6IFNWR1RleHRFbGVtZW50W10gPSBuZXcgQXJyYXkoKTtcclxuICBjb25zdCByYW5kOiBudW1iZXIgPSBnZXRSYW5kb21JbnQoOTAsIDM2MCk7XHJcbiAgY29uc3Qgc3ZnOiBIVE1MRWxlbWVudCA9IGh0bWxFbGVtZW50O1xyXG4gIGlmICghc3ZnLmdldEF0dHJpYnV0ZSgndmlld0JveCcpKSB7IHRocm93IG5ldyBFcnJvcignTm90IGZvdW5kIFwidmlld0JveFwiIHByb3BlcnR5IG9mIHN2Z0VsZW1lbnQnKTsgfVxyXG4gIGNvbnN0IHN2Z1dpZHRoOiBudW1iZXIgPSArc3ZnLmdldEF0dHJpYnV0ZSgndmlld0JveCcpLnNwbGl0KCcgJylbMl07XHJcbiAgY29uc3Qgc3ZnSGVpZ2h0OiBudW1iZXIgPSArc3ZnLmdldEF0dHJpYnV0ZSgndmlld0JveCcpLnNwbGl0KCcgJylbM10gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4gIGNvbnN0IFI6IG51bWJlciA9IDE3MDtcclxuICBsZXQgYW5nbGVWYWw6IG51bWJlciA9IDA7XHJcbiAgbGV0IGNhcGl0YWw6IG51bWJlcjtcclxuICBsZXQgdmFsQXJyYXk6IFtzdHJpbmcsIG51bWJlciwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZ11bXSA9IFtcclxuICAgIFsnU3RvY2snLCAxMCwgJyM0ZGRlNWUnLCAnJywgJ01vc2NvdyddLFxyXG4gICAgWydTdG9jaycsIDEwLCAnJywgJycsICdTb2NoaSddLFxyXG4gICAgWydTdG9jaycsIDEwLCAnJywgJycsICdCYW5rIDEnXSxcclxuICAgIFsnU3RvY2snLCAxMCwgJycsICcnLCAnQmFuayAyJ10sXHJcbiAgICBbJ1N0b2NrJywgMTAsICcjNzllYzg3JywgJycsICdCYW5rIDMnXSxcclxuICAgIFsnU3RvY2syJywgMTAsICcjZmM4ZjMwJywgJycsICdCZXJsaW4nXSxcclxuICAgIFsnU3RvY2syJywgMTAsICcnLCAnJywgJ0JhbmsgMSddLFxyXG4gICAgWydTdG9jazInLCAxMCwgJycsICcnLCAnQmFuayAyJ10sXHJcbiAgICBbJ1N0b2NrMicsIDEwLCAnJywgJycsICdCYW5rIDMnXSxcclxuICAgIFsnU3RvY2syJywgMTAsICcjZmNkMDUzJywgJycsICdCYW5rIDQnXSxcclxuICAgIFsnU3RvY2s0JywgMTAsICcjNzVjNmRlJywgJycsICdQZWtpbiddLFxyXG4gICAgWydTdG9jazQnLCAxMCwgJycsICcnLCAnQmFuayAxJ10sXHJcbiAgICBbJ1N0b2NrNCcsIDEwLCAnJywgJycsICdCYW5rIDInXSxcclxuICAgIFsnU3RvY2s0JywgMTAsICcnLCAnJywgJ0JhbmsgMyddLFxyXG4gICAgWydTdG9jazQnLCAxMCwgJyM5NWU5ZmQnLCAnJywgJ0JhbmsgNCddXHJcbiAgXTtcclxuXHJcbiAgY29uc29sZS5pbmZvKHN2Z1dpZHRoLCBzdmdIZWlnaHQsIHN2Zy5jbGllbnRXaWR0aCAvIDIpO1xyXG4gIC8vINCX0LDQv9C+0LvQvdGP0LXQvCDQvdC10LTQvtGB0YLQsNGO0YnQuNC1INC/0YDQvtC80LXQttGD0YLQvtGH0L3Ri9C1INGG0LLQtdGC0LBcclxuICB2YWxBcnJheSA9IHZhbEFycmF5Lm1hcChcclxuICAgIChcclxuICAgICAgZWxlbWVudDogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIHN0cmluZywgc3RyaW5nXSxcclxuICAgICAgaW5kZXg6IG51bWJlcixcclxuICAgICAgYXJyYXk6IFtzdHJpbmcsIG51bWJlciwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZ11bXVxyXG4gICAgKSA9PiB7XHJcblxyXG4gICAgLy8g0LXRgdC70Lgg0YbQstC10YIg0L7RgtGB0YPRgtGB0YLQstGD0LXRglxyXG4gICAgaWYgKCFlbGVtZW50WzJdKSB7XHJcbiAgICAgIGNvbnN0IGZyb21SR0I6IHN0cmluZyA9IGFycmF5W2luZGV4IC0gMV1bMl07XHJcbiAgICAgIGxldCB0b1JHQjogc3RyaW5nID0gJyc7XHJcbiAgICAgIGxldCBzdGVwOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgLy8g0LjRidC10Lwg0YHQu9C10LTRg9GO0YnQuNC5INC40LfQstC10YHRgtC90YvQuSBSR0JcclxuICAgICAgd2hpbGUgKHRvUkdCLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICBzdGVwKys7XHJcbiAgICAgICAgaWYgKGFycmF5W2luZGV4ICsgc3RlcF1bMl0pIHtcclxuICAgICAgICAgIHRvUkdCID0gYXJyYXlbaW5kZXggKyBzdGVwXVsyXTtcclxuICAgICAgICAgIHN0ZXArKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINGI0LDQsyDQtNC70Y8g0LrQsNC20LTQvtCz0L4g0YbQstC10YLQsFxyXG4gICAgICBjb25zdCB0b1I6IG51bWJlciA9IHBhcnNlSW50KHRvUkdCLnN1YnN0cigxLCAyKSwgMTYpO1xyXG4gICAgICBjb25zdCB0b0c6IG51bWJlciA9IHBhcnNlSW50KHRvUkdCLnN1YnN0cigzLCAyKSwgMTYpO1xyXG4gICAgICBjb25zdCB0b0I6IG51bWJlciA9IHBhcnNlSW50KHRvUkdCLnN1YnN0cig1LCAyKSwgMTYpO1xyXG5cclxuICAgICAgY29uc3QgZnJvbVI6IG51bWJlciA9IHBhcnNlSW50KGZyb21SR0Iuc3Vic3RyKDEsIDIpLCAxNik7XHJcbiAgICAgIGNvbnN0IGZyb21HOiBudW1iZXIgPSBwYXJzZUludChmcm9tUkdCLnN1YnN0cigzLCAyKSwgMTYpO1xyXG4gICAgICBjb25zdCBmcm9tQjogbnVtYmVyID0gcGFyc2VJbnQoZnJvbVJHQi5zdWJzdHIoNSwgMiksIDE2KTtcclxuXHJcbiAgICAgIGNvbnN0IHNSOiBudW1iZXIgPSAoKHRvUiAtIGZyb21SKSAvIHN0ZXApO1xyXG4gICAgICBjb25zdCBzRzogbnVtYmVyID0gKCh0b0cgLSBmcm9tRykgLyBzdGVwKTtcclxuICAgICAgY29uc3Qgc0I6IG51bWJlciA9ICgodG9CIC0gZnJvbUIpIC8gc3RlcCk7XHJcblxyXG4gICAgICAvLyDQs9C10L3QtdGA0LDRhtC40Y8g0L3QtdC00L7RgdGC0LDRjtGJ0LXQs9C+INGG0LLQtdGC0LBcclxuICAgICAgZWxlbWVudFsyXSA9ICcjJztcclxuICAgICAgZWxlbWVudFsyXSArPSBNYXRoLnJvdW5kKGZyb21SICsgc1IpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgZWxlbWVudFsyXSArPSBNYXRoLnJvdW5kKGZyb21HICsgc0cpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgZWxlbWVudFsyXSArPSBNYXRoLnJvdW5kKGZyb21CICsgc0IpLnRvU3RyaW5nKDE2KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9KTtcclxuXHJcbiAgLy8g0JLRi9GH0LjRgdC70Y/QtdC8INC60LDQv9C40YLQsNC7ICsg0J7QutGA0YPQs9C70LXQvdC40LUg0LTQviDRgdC+0YLRi9GFXHJcbiAgY2FwaXRhbCA9IHZhbEFycmF5LnJlZHVjZSgoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWVbMV0sIDApO1xyXG4gIGNhcGl0YWwgPSBNYXRoLnJvdW5kKGNhcGl0YWwgKiAxMDApIC8gMTAwO1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQv9C+0YHRgtC+0LXQvdC40Y8g0LTRg9CzLlxyXG4gIGNvbnN0IG1ha2VBcmMgPSAodmFsdWU6IG51bWJlciwgcmFkOiBudW1iZXIsIG1ha2VBbmdsZTogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgIGNvbnN0IGFscGhhOiBudW1iZXIgPSAzLjYgKiAodmFsdWUgLyAoY2FwaXRhbCAvIDEwMCkpO1xyXG4gICAgY29uc3QgYW5nbGU6IG51bWJlciA9IDM2MCAvIGNhcGl0YWwgKiAobWFrZUFuZ2xlKTtcclxuICAgIGNvbnN0IGE6IG51bWJlciA9IChyYW5kIC0gYW5nbGUgLSBhbHBoYSkgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgY29uc3QgYjogbnVtYmVyID0gKHJhbmQgLSBhbmdsZSkgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgY29uc3Qgc3g6IG51bWJlciA9IHN2Z1dpZHRoIC8gMiArIHJhZCAqIE1hdGguY29zKGIpO1xyXG4gICAgY29uc3Qgc3k6IG51bWJlciA9IHN2Z0hlaWdodCAvIDIgLSByYWQgKiBNYXRoLnNpbihiKTtcclxuICAgIGNvbnN0IHg6IG51bWJlciA9IHN2Z1dpZHRoIC8gMiArIHJhZCAqIE1hdGguY29zKGEpO1xyXG4gICAgY29uc3QgeTogbnVtYmVyID0gc3ZnSGVpZ2h0IC8gMiAtIHJhZCAqIE1hdGguc2luKGEpO1xyXG4gICAgY29uc3QgcGF0aDogc3RyaW5nID0gJ00gJyArIHN4ICsgJywnICsgc3kgKyAnIEEgJyArIHJhZCArICcsJyArIHJhZCArICcgMCAnICsgKCsoYWxwaGEgPiAxODApKSArICcgMSAnICsgeCArICcsJyArIHk7XHJcbiAgICByZXR1cm4gcGF0aDtcclxuICB9O1xyXG5cclxuICB2YWxBcnJheS5mb3JFYWNoKChlbGVtZW50OiBbc3RyaW5nLCBudW1iZXIsIHN0cmluZywgc3RyaW5nLCBzdHJpbmddKSA9PiB7XHJcbiAgICAvLyDQpNC40LrRgdC40YDRg9C10Lwg0YPQs9C+0Lsg0YHQtNCy0LjQs9CwINGN0LvQtdC80LXQvdGC0LBcclxuICAgIGNvbnN0IGFuZ2xlID0gYW5nbGVWYWw7XHJcblxyXG4gICAgLy8g0YHQvtC30LTQsNGR0Lwg0LTRg9Cz0YNcclxuICAgIGNvbnN0IHBhdGg6IFNWR1BhdGhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzEwcHgnKTtcclxuICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCBlbGVtZW50WzJdKTtcclxuICAgIHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcclxuICAgIHBhdGguc2V0QXR0cmlidXRlKCdkJywgbWFrZUFyYygwLCA5MCwgMCkpO1xyXG4gICAgaWYgKGVsZW1lbnRbM10pIHtcclxuICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2N1cnNvcjogcG9pbnRlcicpO1xyXG4gICAgICAvLyDQv9GA0Lgg0LrQu9C40LrQtS4uLlxyXG4gICAgICBwYXRoLm9uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudFszXSwgJ19ibGFuaycpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xyXG5cclxuICAgIC8vINCw0L3QuNC80LjRgNC+0LLQsNC90L3QviDQt9Cw0LzQutC90YPRgtGMINC60L7Qu9GM0YbQvlxyXG4gICAgYW5pbWF0ZSh7XHJcbiAgICAgIGR1cmF0aW9uOiAxOTAwLFxyXG4gICAgICBkZWx0YTogbWFrZUVhc2VJbk91dChxdWFkKSxcclxuICAgICAgc3RlcDogKGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZCcsIG1ha2VBcmMoZGVsdGEgKiBlbGVtZW50WzFdLCAoZGVsdGEgKiAoUiAtIDkwKSkgKyA5MCwgZGVsdGEgKiBhbmdsZSkpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQsNC90LjQvNC40YDQvtCy0LDQvdC90L4g0YPQstC10LvQuNGH0LjRgtGMINGI0LjRgNC40L3RgyDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgIGFuaW1hdGUoe1xyXG4gICAgICBlbDogZWxlbWVudCxcclxuICAgICAgZHVyYXRpb246IDE5MDAsXHJcbiAgICAgIGRlbHRhOiBtYWtlRWFzZUluT3V0KHF1YWQpLFxyXG4gICAgICBzdGVwOiAoZGVsdGE6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAoZGVsdGEgKiAxMDApICsgJ3B4Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINC/0YDQuCDQvdCw0LLQtdC00LXQvdC40LguLi5cclxuICAgIHBhdGgub25tb3VzZW92ZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIHN2Zy5yZW1vdmVDaGlsZCh0ZXh0QXJyWzBdKTtcclxuICAgICAgc3BhbkFyclsyXS50ZXh0Q29udGVudCA9IGVsZW1lbnRbNF07XHJcbiAgICAgIHNwYW5BcnJbM10udGV4dENvbnRlbnQgPSBlbGVtZW50WzBdO1xyXG4gICAgICBzcGFuQXJyWzRdLnRleHRDb250ZW50ID0gJyQnICsgZWxlbWVudFsxXS50b0xvY2FsZVN0cmluZygnZW4nKTtcclxuICAgICAgc3ZnLmFwcGVuZENoaWxkKHRleHRBcnJbMV0pO1xyXG5cclxuICAgICAgYW5pbWF0ZSh7XHJcbiAgICAgICAgZWw6IHBhdGgsXHJcbiAgICAgICAgZHVyYXRpb246IDIwMDAsXHJcbiAgICAgICAgZGVsdGE6IG1ha2VFYXNlT3V0KGVsYXN0aWMsIDApLFxyXG4gICAgICAgIHN0ZXA6IChkZWx0YTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgKGRlbHRhICogKDE0MCAtIDEwMCkgKyAxMDApICsgJ3B4Jyk7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIFN0cmluZyhkZWx0YSAqICgwLjQgLSAxKSArIDEpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDQv9GA0Lgg0L7RgtCy0L7QtNC1Li4uXHJcbiAgICBwYXRoLm9ubW91c2VvdXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIHN2Zy5yZW1vdmVDaGlsZCh0ZXh0QXJyWzFdKTtcclxuICAgICAgc3BhbkFyclswXS50ZXh0Q29udGVudCA9ICdDYXBpdGFsJztcclxuICAgICAgc3BhbkFyclsxXS50ZXh0Q29udGVudCA9ICckJyArIGNhcGl0YWwudG9Mb2NhbGVTdHJpbmcoJ2VuJyk7XHJcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZCh0ZXh0QXJyWzBdKTtcclxuICAgICAgYW5pbWF0ZSh7XHJcbiAgICAgICAgZWw6IHBhdGgsXHJcbiAgICAgICAgZHVyYXRpb246IDIwMDAsXHJcbiAgICAgICAgZGVsdGE6IG1ha2VFYXNlT3V0KGVsYXN0aWMsIDApLFxyXG4gICAgICAgIHN0ZXA6IChkZWx0YTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgKGRlbHRhICogKDEwMCAtIDE0MCkgKyAxNDApICsgJ3B4Jyk7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIFN0cmluZyhkZWx0YSAqICgxIC0gMC40KSArIDAuNCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINCf0LXRgNC10LzQtdC90L3QsNGPINC+0YLRgdGC0YPQv9CwINC+0YIg0L3QsNGH0LDQu9CwINC60L7QvtGA0LTQuNC90LDRglxyXG4gICAgYW5nbGVWYWwgKz0gZWxlbWVudFsxXTtcclxuICB9KTtcclxuXHJcbiAgLy8g0JHQu9C+0LrQuCDRgSDRgtC10LrRgdGC0L7QvFxyXG4gIGZvciAobGV0IHNwYW46IG51bWJlciA9IDA7IHNwYW4gPCA1OyBzcGFuKyspIHtcclxuICAgIGlmIChzcGFuIDwgMikge1xyXG4gICAgICAvLyDRgdC+0LfQtNCw0ZHQvCDRgtC10LrRgdGC0L7QstGL0LUg0LHQu9C+0LrQuCAo0LIg0LrQvtGC0L7RgNGL0YUg0LHRg9C00YPRgiDRgdGC0YDQvtC60Lggwqt0c3BhbsK7KVxyXG4gICAgICB0ZXh0QXJyW3NwYW5dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0ZXh0Jyk7XHJcbiAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcclxuICAgICAgdGV4dEFycltzcGFuXS5zZXRBdHRyaWJ1dGUoJ2ZvbnQtZmFtaWx5JywgJ0hlbHZldGljYScpO1xyXG4gICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsICcxJyk7XHJcbiAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMCcpO1xyXG4gICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgndGV4dC1yZW5kZXJpbmcnLCAnZ2VvbWV0cmljUHJlY2lzaW9uJyk7XHJcblxyXG4gICAgICAvLyAyINGB0YLRgNC+0LrQuCDQv9GA0Lgg0L7RgtCy0L7QtNC1INC80YvRiNC60L7QuS4uLlxyXG4gICAgICBzcGFuQXJyW3NwYW5dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgICBzcGFuQXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgneCcsIGAke3N2Z1dpZHRoIC8gMn1gKTtcclxuICAgICAgc3BhbkFycltzcGFuXS5zZXRBdHRyaWJ1dGUoJ2R5JywgJzUwJyk7XHJcblxyXG4gICAgICBpZiAoc3BhbiA9PT0gMCkge1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCAnNDAnKTtcclxuICAgICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCd5JywgJzE5MCcpO1xyXG4gICAgICAgIHNwYW5BcnJbMF0udGV4dENvbnRlbnQgPSAnVG90YWwnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3BhbiA9PT0gMSkge1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCAnMjInKTtcclxuICAgICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgnZm9udC13ZWlnaHQnLCAnbm9uZScpO1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCd5JywgJzIwMCcpO1xyXG4gICAgICAgIHNwYW5BcnJbMV0udGV4dENvbnRlbnQgPSAnJCcgKyBjYXBpdGFsLnRvTG9jYWxlU3RyaW5nKCdlbicpO1xyXG4gICAgICB9XHJcbiAgICAgIHRleHRBcnJbMF0uYXBwZW5kQ2hpbGQoc3BhbkFycltzcGFuXSk7XHJcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZCh0ZXh0QXJyW3NwYW5dKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAzINGB0YLRgNC+0LrQuCDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INC80YvRiNC60L7QuS4uLlxyXG4gICAgaWYgKHNwYW4gPj0gMikge1xyXG4gICAgICBzcGFuQXJyW3NwYW5dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgICBzcGFuQXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgneCcsIGAke3N2Z1dpZHRoIC8gMn1gKTtcclxuICAgICAgc3BhbkFycltzcGFuXS5zZXRBdHRyaWJ1dGUoJ2R5JywgJzMwJyk7XHJcbiAgICAgIHRleHRBcnJbMV0uYXBwZW5kQ2hpbGQoc3BhbkFycltzcGFuXSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIC0tLS0tLS0tLS0tIGNvcmUgb2YgYW5pbWF0aW9uIC0tLS0tLS0tLS0tLS0gLy9cclxuZXhwb3J0IGZ1bmN0aW9uIGFuaW1hdGUob3B0czogYW55KTogdm9pZCB7XHJcbiAgY29uc3QgZWwgPSBvcHRzLmVsIHx8IGZhbHNlO1xyXG4gIGNvbnN0IHN0YXJ0ID0gK25ldyBEYXRlKCk7XHJcbiAgY29uc3QgZGVsdGEgPSBvcHRzLmRlbHRhIHx8IGxpbmVhcjtcclxuICBjb25zdCBmcm9tID0gb3B0cy5mcm9tIHx8IDA7XHJcbiAgY29uc3QgdG8gPSAgb3B0cy50byB8fCAwO1xyXG4gIC8vIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbigpe2FsZXJ0KHRoaXMpO307XHJcbiAgaWYgKGVsKSB7XHJcbiAgICBjbGVhckludGVydmFsKG9wdHMuZWwudGltZXIpO1xyXG4gICAgb3B0cy5lbC50aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgbGV0IHByb2dyZXNzID0gKCtuZXcgRGF0ZSgpIC0gc3RhcnQpIC8gb3B0cy5kdXJhdGlvbjtcclxuXHJcbiAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHsgcHJvZ3Jlc3MgPSAxOyB9XHJcblxyXG4gICAgICBvcHRzLnN0ZXAoZGVsdGEocHJvZ3Jlc3MpLCBmcm9tLCB0byk7XHJcblxyXG4gICAgICBpZiAocHJvZ3Jlc3MgPT09IDEpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKG9wdHMuZWwudGltZXIpO1xyXG4gICAgICAgIG9wdHMuY29tcGxldGUgJiYgb3B0cy5jb21wbGV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LCBvcHRzLmRlbGF5IHx8IDIwKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGxldCBwcm9ncmVzcyA9ICgrbmV3IERhdGUoKSAtIHN0YXJ0KSAvIG9wdHMuZHVyYXRpb247XHJcblxyXG4gICAgICBpZiAocHJvZ3Jlc3MgPiAxKSB7IHByb2dyZXNzID0gMTsgfVxyXG5cclxuICAgICAgb3B0cy5zdGVwKGRlbHRhKHByb2dyZXNzKSwgZnJvbSwgdG8pO1xyXG5cclxuICAgICAgaWYgKHByb2dyZXNzID09PSAxKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgb3B0cy5jb21wbGV0ZSAmJiBvcHRzLmNvbXBsZXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIG9wdHMuZGVsYXkgfHwgMTUpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLSBEZWx0YSBmb3IgYW5pbWF0aW9uIC0tLS0tLS0tLS0tLS0tLS0gLy9cclxuZnVuY3Rpb24gbGluZWFyKHByb2dyZXNzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gIHJldHVybiBwcm9ncmVzcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWMocHJvZ3Jlc3M6IG51bWJlcik6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgucG93KDIsIChwcm9ncmVzcyAtIDEpICogMTUpICogTWF0aC5jb3MoTWF0aC5QSSAqIDIwICogMS41IC8gMyAqIHByb2dyZXNzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YWQocHJvZ3Jlc3M6IG51bWJlcik6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgucG93KHByb2dyZXNzLCAyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFYXNlSW5PdXQoZGVsdGE6IGFueSk6IG9iamVjdCB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgaWYgKHByb2dyZXNzIDwgLjUpIHsgcmV0dXJuIGRlbHRhKHByb2dyZXNzICogMikgLyAyOyB9XHJcbiAgICByZXR1cm4gKDIgLSBkZWx0YSgoMSAtIHByb2dyZXNzKSAqIDIpKSAvIDI7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFYXNlT3V0KGRlbHRhOiBhbnksIHg6IG51bWJlcik6IG9iamVjdCB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDEgLSBkZWx0YSgxIC0gcHJvZ3Jlc3MsIHgpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLSBHZXQgcmFuZG9tIGludCAtLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludCAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9