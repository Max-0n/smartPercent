!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";e.__esModule=!0,n(1);var r=n(2),o=n(4).name,i=document.getElementById("form");console.info("%cCreated by Max0n: «"+o+"»","color: #fff; font-weight: bold; background: #47c; padding:3px 5px;"),r.default(document.getElementById("mainChart")),i.onsubmit=function(t){t.preventDefault()}},function(t,e,n){},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e.default=function(t){var e=new Array,n=new Array,o=r.getRandomInt(90,360),i=t;if(!i.getAttribute("viewBox"))throw new Error('Not found "viewBox" property of svgElement');var a,u=+i.getAttribute("viewBox").split(" ")[2],s=+i.getAttribute("viewBox").split(" ")[3],c=0,l=[["Stock",10,"#4dde5e","","Moscow"],["Stock",10,"","","Sochi"],["Stock",10,"","","Bank 1"],["Stock",10,"","","Bank 2"],["Stock",10,"#79ec87","","Bank 3"],["Stock2",10,"#fc8f30","","Berlin"],["Stock2",10,"","","Bank 1"],["Stock2",10,"","","Bank 2"],["Stock2",10,"","","Bank 3"],["Stock2",10,"#fcd053","","Bank 4"],["Stock4",10,"#75c6de","","Pekin"],["Stock4",10,"","","Bank 1"],["Stock4",10,"","","Bank 2"],["Stock4",10,"","","Bank 3"],["Stock4",10,"#95e9fd","","Bank 4"]];l=l.map((function(t,e,n){if(!t[2]){for(var r=n[e-1][2],o="",i=0;o.length<6;)n[e+ ++i][2]&&(o=n[e+i][2],i++);var a=parseInt(o.substr(1,2),16),u=parseInt(o.substr(3,2),16),s=parseInt(o.substr(5,2),16),c=parseInt(r.substr(1,2),16),l=parseInt(r.substr(3,2),16),d=parseInt(r.substr(5,2),16),p=(a-c)/i,f=(u-l)/i,b=(s-d)/i;t[2]="#",t[2]+=Math.round(c+p).toString(16),t[2]+=Math.round(l+f).toString(16),t[2]+=Math.round(d+b).toString(16)}return t})),a=l.reduce((function(t,e){return t+e[1]}),0),a=Math.round(100*a)/100;var d=function(t,e,n){var r=t/(a/100)*3.6,i=360/a*n,c=(o-i-r)*Math.PI/180,l=(o-i)*Math.PI/180;return"M "+(u/2+e*Math.cos(l))+","+(s/2-e*Math.sin(l))+" A "+e+","+e+" 0 "+ +(r>180)+" 1 "+(u/2+e*Math.cos(c))+","+(s/2-e*Math.sin(c))};l.forEach((function(t){var o=c,u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("stroke-width","10px"),u.setAttribute("stroke",t[2]),u.setAttribute("fill","none"),u.setAttribute("d",d(0,90,0)),t[3]&&(u.setAttribute("style","cursor: pointer"),u.onclick=function(){window.open(t[3],"_blank")}),i.appendChild(u),r.animate({duration:1900,delta:r.makeEaseInOut(r.quad),step:function(e){u.setAttribute("d",d(e*t[1],80*e+90,e*o))}}),r.animate({el:t,duration:1900,delta:r.makeEaseInOut(r.quad),step:function(t){u.setAttribute("stroke-width",100*t+"px")}}),u.onmouseover=function(){i.removeChild(n[0]),e[2].textContent=t[4],e[3].textContent=t[0],e[4].textContent="$"+t[1].toLocaleString("en"),i.appendChild(n[1]),r.animate({el:u,duration:2e3,delta:r.makeEaseOut(r.elastic,0),step:function(t){u.setAttribute("stroke-width",40*t+100+"px"),u.setAttribute("opacity",String(-.6*t+1))}})},u.onmouseout=function(){i.removeChild(n[1]),e[0].textContent="Capital",e[1].textContent="$"+a.toLocaleString("en"),i.appendChild(n[0]),r.animate({el:u,duration:2e3,delta:r.makeEaseOut(r.elastic,0),step:function(t){u.setAttribute("stroke-width",-40*t+140+"px"),u.setAttribute("opacity",String(.6*t+.4))}})},c+=t[1]}));for(var p=0;p<5;p++)p<2&&(n[p]=document.createElementNS("http://www.w3.org/2000/svg","text"),n[p].setAttribute("text-anchor","middle"),n[p].setAttribute("font-family","Helvetica"),n[p].setAttribute("opacity","1"),n[p].setAttribute("stroke-width","0"),n[p].setAttribute("text-rendering","geometricPrecision"),e[p]=document.createElementNS("http://www.w3.org/2000/svg","tspan"),e[p].setAttribute("x",""+u/2),e[p].setAttribute("dy","50"),0===p&&(n[p].setAttribute("font-size","40"),n[p].setAttribute("font-weight","bold"),n[p].setAttribute("y","190"),e[0].textContent="Total"),1===p&&(n[p].setAttribute("font-size","22"),n[p].setAttribute("font-weight","none"),n[p].setAttribute("y","200"),e[1].textContent="$"+a.toLocaleString("en")),n[0].appendChild(e[p]),i.appendChild(n[p])),p>=2&&(e[p]=document.createElementNS("http://www.w3.org/2000/svg","tspan"),e[p].setAttribute("x",""+u/2),e[p].setAttribute("dy","30"),n[1].appendChild(e[p]))}},function(t,e,n){"use strict";function r(t){return t}e.__esModule=!0,e.animate=function(t){var e=t.el||!1,n=+new Date,o=t.delta||r,i=t.from||0,a=t.to||0;if(e)clearInterval(t.el.timer),t.el.timer=setInterval((function(){var e=(+new Date-n)/t.duration;e>1&&(e=1),t.step(o(e),i,a),1===e&&(clearInterval(t.el.timer),t.complete&&t.complete())}),t.delay||20);else var u=setInterval((function(){var e=(+new Date-n)/t.duration;e>1&&(e=1),t.step(o(e),i,a),1===e&&(clearInterval(u),t.complete&&t.complete())}),t.delay||15)},e.elastic=function(t){return Math.pow(2,15*(t-1))*Math.cos(20*Math.PI*1.5/3*t)},e.quad=function(t){return Math.pow(t,2)},e.makeEaseInOut=function(t){return function(e){return e<.5?t(2*e)/2:(2-t(2*(1-e)))/2}},e.makeEaseOut=function(t,e){return function(n){return 1-t(1-n,e)}},e.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(t){t.exports=JSON.parse('{"name":"SmartPercent","version":"0.1.0","description":"Percent calculator of stocks.","repository":{"type":"git","url":"git@github.com:Max-0n/smartPercent.git"},"engines":{"node":"14.2.0"},"scripts":{"start":"webpack-dev-server --mode=development --open","test":"tslint \'src/**/*.ts\'; sass-lint \'src/**/*.scss\' -v -q; pug-lint src","build":"webpack --mode=production","build:dev":"webpack --mode=development"},"devDependencies":{"clean-webpack-plugin":"^3.0.0","css-loader":"^3.5.3","file-loader":"^6.0.0","html-webpack-plugin":"^4.3.0","mini-css-extract-plugin":"^0.9.0","node-sass":"^4.14.1","pug":"^2.0.4","pug-lint":"^2.6.0","pug-loader":"^2.4.0","puglint-webpack-plugin":"^1.0.3","sass-lint":"^1.13.1","sass-lint-webpack":"^1.0.2","sass-loader":"^8.0.2","ts-loader":"^7.0.3","tslint":"^6.1.2","tslint-loader":"^3.5.4","typescript":"^3.8.3","webpack":"^4.43.0","webpack-cli":"^3.3.11","webpack-dev-server":"^3.11.0"}}')}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FuaW1hdGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhcHBOYW1lIiwiZm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb25zb2xlIiwiaW5mbyIsIm9uc3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiaHRtbEVsZW1lbnQiLCJzcGFuQXJyIiwiQXJyYXkiLCJ0ZXh0QXJyIiwicmFuZCIsImdldFJhbmRvbUludCIsInN2ZyIsImdldEF0dHJpYnV0ZSIsIkVycm9yIiwiY2FwaXRhbCIsInN2Z1dpZHRoIiwic3BsaXQiLCJzdmdIZWlnaHQiLCJhbmdsZVZhbCIsInZhbEFycmF5IiwibWFwIiwiZWxlbWVudCIsImluZGV4IiwiYXJyYXkiLCJmcm9tUkdCIiwidG9SR0IiLCJzdGVwIiwibGVuZ3RoIiwidG9SIiwicGFyc2VJbnQiLCJzdWJzdHIiLCJ0b0ciLCJ0b0IiLCJmcm9tUiIsImZyb21HIiwiZnJvbUIiLCJzUiIsInNHIiwic0IiLCJNYXRoIiwicm91bmQiLCJ0b1N0cmluZyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudFZhbHVlIiwibWFrZUFyYyIsInJhZCIsIm1ha2VBbmdsZSIsImFscGhhIiwiYW5nbGUiLCJhIiwiUEkiLCJiIiwiY29zIiwic2luIiwiZm9yRWFjaCIsInBhdGgiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJvbmNsaWNrIiwid2luZG93Iiwib3BlbiIsImFwcGVuZENoaWxkIiwiYW5pbWF0ZSIsImR1cmF0aW9uIiwiZGVsdGEiLCJtYWtlRWFzZUluT3V0IiwicXVhZCIsImVsIiwib25tb3VzZW92ZXIiLCJyZW1vdmVDaGlsZCIsInRleHRDb250ZW50IiwidG9Mb2NhbGVTdHJpbmciLCJtYWtlRWFzZU91dCIsImVsYXN0aWMiLCJTdHJpbmciLCJvbm1vdXNlb3V0Iiwic3BhbiIsImxpbmVhciIsInByb2dyZXNzIiwib3B0cyIsInN0YXJ0IiwiRGF0ZSIsImZyb20iLCJ0byIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lciIsInNldEludGVydmFsIiwiY29tcGxldGUiLCJkZWxheSIsInBvdyIsIngiLCJtaW4iLCJtYXgiLCJmbG9vciIsInJhbmRvbSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMs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QUt1QyxFQUFNYyxHQUFXSSxFQUFNQyxHQUVoQixJQUFiTCxJQUNGTSxjQUFjTCxFQUFLWixHQUFHa0IsT0FDdEJOLEVBQUtRLFVBQVlSLEVBQUtRLGNBRXZCUixFQUFLUyxPQUFTLFNBRWpCLElBQU0sRUFBUUYsYUFBWSxXQUN4QixJQUFJUixJQUFhLElBQUlHLEtBQVNELEdBQVNELEVBQUtoQixTQUV4Q2UsRUFBVyxJQUFLQSxFQUFXLEdBRS9CQyxFQUFLdEQsS0FBS3VDLEVBQU1jLEdBQVdJLEVBQU1DLEdBRWhCLElBQWJMLElBQ0ZNLGNBQWMsR0FDZEwsRUFBS1EsVUFBWVIsRUFBS1EsY0FFdkJSLEVBQUtTLE9BQVMsS0FTckIsbUJBQXdCVixHQUN0QixPQUFPeEMsS0FBS21ELElBQUksRUFBb0IsSUFBaEJYLEVBQVcsSUFBV3hDLEtBQUtjLElBQWMsR0FBVmQsS0FBS1ksR0FBVSxJQUFNLEVBQUk0QixJQUc5RSxnQkFBcUJBLEdBQ25CLE9BQU94QyxLQUFLbUQsSUFBSVgsRUFBVSxJQUc1Qix5QkFBOEJkLEdBQzVCLE9BQU8sU0FBU2MsR0FDZCxPQUFJQSxFQUFXLEdBQWFkLEVBQWlCLEVBQVhjLEdBQWdCLEdBQzFDLEVBQUlkLEVBQXVCLEdBQWhCLEVBQUljLEtBQWtCLElBSTdDLHVCQUE0QmQsRUFBWTBCLEdBQ3RDLE9BQU8sU0FBU1osR0FDZCxPQUFPLEVBQUlkLEVBQU0sRUFBSWMsRUFBVVksS0FLbkMsd0JBQThCQyxFQUFhQyxHQUN6QyxPQUFPdEQsS0FBS3VELE1BQU12RCxLQUFLd0QsVUFBWUYsRUFBTUQsRUFBTSxJQUFNQSxJIiwiZmlsZSI6ImFwcC44NmQwNGRmNTc5ZDk4MjJiNGVkNC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJyZXF1aXJlKCcuL3N0eWxlLnNjc3MnKTtcclxuaW1wb3J0IG1haW5DaGFydCBmcm9tICcuL2NoYXJ0JztcclxuY29uc3QgYXBwTmFtZSA9IHJlcXVpcmUoJy4uL3BhY2thZ2UuanNvbicpLm5hbWU7XHJcbmNvbnN0IGZvcm06IEhUTUxGb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtJykgYXMgSFRNTEZvcm1FbGVtZW50O1xyXG5cclxuY29uc29sZS5pbmZvKGAlY0NyZWF0ZWQgYnkgTWF4MG46IMKrJHthcHBOYW1lfcK7YCwgJ2NvbG9yOiAjZmZmOyBmb250LXdlaWdodDogYm9sZDsgYmFja2dyb3VuZDogIzQ3YzsgcGFkZGluZzozcHggNXB4OycpO1xyXG5tYWluQ2hhcnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DaGFydCcpKTtcclxuXHJcbmZvcm0ub25zdWJtaXQgPSAoZTogRXZlbnQpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn07XHJcbiIsImltcG9ydCB7IGdldFJhbmRvbUludCwgYW5pbWF0ZSwgbWFrZUVhc2VJbk91dCwgbWFrZUVhc2VPdXQsIGVsYXN0aWMsIHF1YWQgfSBmcm9tICcuL2FuaW1hdGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGh0bWxFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gIGNvbnN0IHNwYW5BcnI6IFNWR1RleHRFbGVtZW50W10gPSBuZXcgQXJyYXkoKTtcclxuICBjb25zdCB0ZXh0QXJyOiBTVkdUZXh0RWxlbWVudFtdID0gbmV3IEFycmF5KCk7XHJcbiAgY29uc3QgcmFuZDogbnVtYmVyID0gZ2V0UmFuZG9tSW50KDkwLCAzNjApO1xyXG4gIGNvbnN0IHN2ZzogSFRNTEVsZW1lbnQgPSBodG1sRWxlbWVudDtcclxuICBpZiAoIXN2Zy5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKSkgeyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBmb3VuZCBcInZpZXdCb3hcIiBwcm9wZXJ0eSBvZiBzdmdFbGVtZW50Jyk7IH1cclxuICBjb25zdCBzdmdXaWR0aDogbnVtYmVyID0gK3N2Zy5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKS5zcGxpdCgnICcpWzJdO1xyXG4gIGNvbnN0IHN2Z0hlaWdodDogbnVtYmVyID0gK3N2Zy5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKS5zcGxpdCgnICcpWzNdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcclxuICBjb25zdCBSOiBudW1iZXIgPSAxNzA7XHJcbiAgbGV0IGFuZ2xlVmFsOiBudW1iZXIgPSAwO1xyXG4gIGxldCBjYXBpdGFsOiBudW1iZXI7XHJcbiAgbGV0IHZhbEFycmF5OiBbc3RyaW5nLCBudW1iZXIsIHN0cmluZywgc3RyaW5nLCBzdHJpbmddW10gPSBbXHJcbiAgICBbJ1N0b2NrJywgMTAsICcjNGRkZTVlJywgJycsICdNb3Njb3cnXSxcclxuICAgIFsnU3RvY2snLCAxMCwgJycsICcnLCAnU29jaGknXSxcclxuICAgIFsnU3RvY2snLCAxMCwgJycsICcnLCAnQmFuayAxJ10sXHJcbiAgICBbJ1N0b2NrJywgMTAsICcnLCAnJywgJ0JhbmsgMiddLFxyXG4gICAgWydTdG9jaycsIDEwLCAnIzc5ZWM4NycsICcnLCAnQmFuayAzJ10sXHJcbiAgICBbJ1N0b2NrMicsIDEwLCAnI2ZjOGYzMCcsICcnLCAnQmVybGluJ10sXHJcbiAgICBbJ1N0b2NrMicsIDEwLCAnJywgJycsICdCYW5rIDEnXSxcclxuICAgIFsnU3RvY2syJywgMTAsICcnLCAnJywgJ0JhbmsgMiddLFxyXG4gICAgWydTdG9jazInLCAxMCwgJycsICcnLCAnQmFuayAzJ10sXHJcbiAgICBbJ1N0b2NrMicsIDEwLCAnI2ZjZDA1MycsICcnLCAnQmFuayA0J10sXHJcbiAgICBbJ1N0b2NrNCcsIDEwLCAnIzc1YzZkZScsICcnLCAnUGVraW4nXSxcclxuICAgIFsnU3RvY2s0JywgMTAsICcnLCAnJywgJ0JhbmsgMSddLFxyXG4gICAgWydTdG9jazQnLCAxMCwgJycsICcnLCAnQmFuayAyJ10sXHJcbiAgICBbJ1N0b2NrNCcsIDEwLCAnJywgJycsICdCYW5rIDMnXSxcclxuICAgIFsnU3RvY2s0JywgMTAsICcjOTVlOWZkJywgJycsICdCYW5rIDQnXVxyXG4gIF07XHJcblxyXG4gIC8vINCX0LDQv9C+0LvQvdGP0LXQvCDQvdC10LTQvtGB0YLQsNGO0YnQuNC1INC/0YDQvtC80LXQttGD0YLQvtGH0L3Ri9C1INGG0LLQtdGC0LBcclxuICB2YWxBcnJheSA9IHZhbEFycmF5Lm1hcChcclxuICAgIChcclxuICAgICAgZWxlbWVudDogW3N0cmluZywgbnVtYmVyLCBzdHJpbmcsIHN0cmluZywgc3RyaW5nXSxcclxuICAgICAgaW5kZXg6IG51bWJlcixcclxuICAgICAgYXJyYXk6IFtzdHJpbmcsIG51bWJlciwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZ11bXVxyXG4gICAgKSA9PiB7XHJcblxyXG4gICAgLy8g0LXRgdC70Lgg0YbQstC10YIg0L7RgtGB0YPRgtGB0YLQstGD0LXRglxyXG4gICAgaWYgKCFlbGVtZW50WzJdKSB7XHJcbiAgICAgIGNvbnN0IGZyb21SR0I6IHN0cmluZyA9IGFycmF5W2luZGV4IC0gMV1bMl07XHJcbiAgICAgIGxldCB0b1JHQjogc3RyaW5nID0gJyc7XHJcbiAgICAgIGxldCBzdGVwOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgLy8g0LjRidC10Lwg0YHQu9C10LTRg9GO0YnQuNC5INC40LfQstC10YHRgtC90YvQuSBSR0JcclxuICAgICAgd2hpbGUgKHRvUkdCLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICBzdGVwKys7XHJcbiAgICAgICAgaWYgKGFycmF5W2luZGV4ICsgc3RlcF1bMl0pIHtcclxuICAgICAgICAgIHRvUkdCID0gYXJyYXlbaW5kZXggKyBzdGVwXVsyXTtcclxuICAgICAgICAgIHN0ZXArKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINGI0LDQsyDQtNC70Y8g0LrQsNC20LTQvtCz0L4g0YbQstC10YLQsFxyXG4gICAgICBjb25zdCB0b1I6IG51bWJlciA9IHBhcnNlSW50KHRvUkdCLnN1YnN0cigxLCAyKSwgMTYpO1xyXG4gICAgICBjb25zdCB0b0c6IG51bWJlciA9IHBhcnNlSW50KHRvUkdCLnN1YnN0cigzLCAyKSwgMTYpO1xyXG4gICAgICBjb25zdCB0b0I6IG51bWJlciA9IHBhcnNlSW50KHRvUkdCLnN1YnN0cig1LCAyKSwgMTYpO1xyXG5cclxuICAgICAgY29uc3QgZnJvbVI6IG51bWJlciA9IHBhcnNlSW50KGZyb21SR0Iuc3Vic3RyKDEsIDIpLCAxNik7XHJcbiAgICAgIGNvbnN0IGZyb21HOiBudW1iZXIgPSBwYXJzZUludChmcm9tUkdCLnN1YnN0cigzLCAyKSwgMTYpO1xyXG4gICAgICBjb25zdCBmcm9tQjogbnVtYmVyID0gcGFyc2VJbnQoZnJvbVJHQi5zdWJzdHIoNSwgMiksIDE2KTtcclxuXHJcbiAgICAgIGNvbnN0IHNSOiBudW1iZXIgPSAoKHRvUiAtIGZyb21SKSAvIHN0ZXApO1xyXG4gICAgICBjb25zdCBzRzogbnVtYmVyID0gKCh0b0cgLSBmcm9tRykgLyBzdGVwKTtcclxuICAgICAgY29uc3Qgc0I6IG51bWJlciA9ICgodG9CIC0gZnJvbUIpIC8gc3RlcCk7XHJcblxyXG4gICAgICAvLyDQs9C10L3QtdGA0LDRhtC40Y8g0L3QtdC00L7RgdGC0LDRjtGJ0LXQs9C+INGG0LLQtdGC0LBcclxuICAgICAgZWxlbWVudFsyXSA9ICcjJztcclxuICAgICAgZWxlbWVudFsyXSArPSBNYXRoLnJvdW5kKGZyb21SICsgc1IpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgZWxlbWVudFsyXSArPSBNYXRoLnJvdW5kKGZyb21HICsgc0cpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgZWxlbWVudFsyXSArPSBNYXRoLnJvdW5kKGZyb21CICsgc0IpLnRvU3RyaW5nKDE2KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9KTtcclxuXHJcbiAgLy8g0JLRi9GH0LjRgdC70Y/QtdC8INC60LDQv9C40YLQsNC7ICsg0J7QutGA0YPQs9C70LXQvdC40LUg0LTQviDRgdC+0YLRi9GFXHJcbiAgY2FwaXRhbCA9IHZhbEFycmF5LnJlZHVjZSgoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWVbMV0sIDApO1xyXG4gIGNhcGl0YWwgPSBNYXRoLnJvdW5kKGNhcGl0YWwgKiAxMDApIC8gMTAwO1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQv9C+0YHRgtC+0LXQvdC40Y8g0LTRg9CzLlxyXG4gIGNvbnN0IG1ha2VBcmMgPSAodmFsdWU6IG51bWJlciwgcmFkOiBudW1iZXIsIG1ha2VBbmdsZTogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuICAgIGNvbnN0IGFscGhhOiBudW1iZXIgPSAzLjYgKiAodmFsdWUgLyAoY2FwaXRhbCAvIDEwMCkpO1xyXG4gICAgY29uc3QgYW5nbGU6IG51bWJlciA9IDM2MCAvIGNhcGl0YWwgKiAobWFrZUFuZ2xlKTtcclxuICAgIGNvbnN0IGE6IG51bWJlciA9IChyYW5kIC0gYW5nbGUgLSBhbHBoYSkgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgY29uc3QgYjogbnVtYmVyID0gKHJhbmQgLSBhbmdsZSkgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgY29uc3Qgc3g6IG51bWJlciA9IHN2Z1dpZHRoIC8gMiArIHJhZCAqIE1hdGguY29zKGIpO1xyXG4gICAgY29uc3Qgc3k6IG51bWJlciA9IHN2Z0hlaWdodCAvIDIgLSByYWQgKiBNYXRoLnNpbihiKTtcclxuICAgIGNvbnN0IHg6IG51bWJlciA9IHN2Z1dpZHRoIC8gMiArIHJhZCAqIE1hdGguY29zKGEpO1xyXG4gICAgY29uc3QgeTogbnVtYmVyID0gc3ZnSGVpZ2h0IC8gMiAtIHJhZCAqIE1hdGguc2luKGEpO1xyXG4gICAgY29uc3QgcGF0aDogc3RyaW5nID0gJ00gJyArIHN4ICsgJywnICsgc3kgKyAnIEEgJyArIHJhZCArICcsJyArIHJhZCArICcgMCAnICsgKCsoYWxwaGEgPiAxODApKSArICcgMSAnICsgeCArICcsJyArIHk7XHJcbiAgICByZXR1cm4gcGF0aDtcclxuICB9O1xyXG5cclxuICB2YWxBcnJheS5mb3JFYWNoKChlbGVtZW50OiBbc3RyaW5nLCBudW1iZXIsIHN0cmluZywgc3RyaW5nLCBzdHJpbmddKSA9PiB7XHJcbiAgICAvLyDQpNC40LrRgdC40YDRg9C10Lwg0YPQs9C+0Lsg0YHQtNCy0LjQs9CwINGN0LvQtdC80LXQvdGC0LBcclxuICAgIGNvbnN0IGFuZ2xlID0gYW5nbGVWYWw7XHJcblxyXG4gICAgLy8g0YHQvtC30LTQsNGR0Lwg0LTRg9Cz0YNcclxuICAgIGNvbnN0IHBhdGg6IFNWR1BhdGhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzEwcHgnKTtcclxuICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCBlbGVtZW50WzJdKTtcclxuICAgIHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcclxuICAgIHBhdGguc2V0QXR0cmlidXRlKCdkJywgbWFrZUFyYygwLCA5MCwgMCkpO1xyXG4gICAgaWYgKGVsZW1lbnRbM10pIHtcclxuICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2N1cnNvcjogcG9pbnRlcicpO1xyXG4gICAgICAvLyDQv9GA0Lgg0LrQu9C40LrQtS4uLlxyXG4gICAgICBwYXRoLm9uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudFszXSwgJ19ibGFuaycpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xyXG5cclxuICAgIC8vINCw0L3QuNC80LjRgNC+0LLQsNC90L3QviDQt9Cw0LzQutC90YPRgtGMINC60L7Qu9GM0YbQvlxyXG4gICAgYW5pbWF0ZSh7XHJcbiAgICAgIGR1cmF0aW9uOiAxOTAwLFxyXG4gICAgICBkZWx0YTogbWFrZUVhc2VJbk91dChxdWFkKSxcclxuICAgICAgc3RlcDogKGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZCcsIG1ha2VBcmMoZGVsdGEgKiBlbGVtZW50WzFdLCAoZGVsdGEgKiAoUiAtIDkwKSkgKyA5MCwgZGVsdGEgKiBhbmdsZSkpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQsNC90LjQvNC40YDQvtCy0LDQvdC90L4g0YPQstC10LvQuNGH0LjRgtGMINGI0LjRgNC40L3RgyDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgIGFuaW1hdGUoe1xyXG4gICAgICBlbDogZWxlbWVudCxcclxuICAgICAgZHVyYXRpb246IDE5MDAsXHJcbiAgICAgIGRlbHRhOiBtYWtlRWFzZUluT3V0KHF1YWQpLFxyXG4gICAgICBzdGVwOiAoZGVsdGE6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAoZGVsdGEgKiAxMDApICsgJ3B4Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINC/0YDQuCDQvdCw0LLQtdC00LXQvdC40LguLi5cclxuICAgIHBhdGgub25tb3VzZW92ZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIHN2Zy5yZW1vdmVDaGlsZCh0ZXh0QXJyWzBdKTtcclxuICAgICAgc3BhbkFyclsyXS50ZXh0Q29udGVudCA9IGVsZW1lbnRbNF07XHJcbiAgICAgIHNwYW5BcnJbM10udGV4dENvbnRlbnQgPSBlbGVtZW50WzBdO1xyXG4gICAgICBzcGFuQXJyWzRdLnRleHRDb250ZW50ID0gJyQnICsgZWxlbWVudFsxXS50b0xvY2FsZVN0cmluZygnZW4nKTtcclxuICAgICAgc3ZnLmFwcGVuZENoaWxkKHRleHRBcnJbMV0pO1xyXG5cclxuICAgICAgYW5pbWF0ZSh7XHJcbiAgICAgICAgZWw6IHBhdGgsXHJcbiAgICAgICAgZHVyYXRpb246IDIwMDAsXHJcbiAgICAgICAgZGVsdGE6IG1ha2VFYXNlT3V0KGVsYXN0aWMsIDApLFxyXG4gICAgICAgIHN0ZXA6IChkZWx0YTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgKGRlbHRhICogKDE0MCAtIDEwMCkgKyAxMDApICsgJ3B4Jyk7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIFN0cmluZyhkZWx0YSAqICgwLjQgLSAxKSArIDEpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDQv9GA0Lgg0L7RgtCy0L7QtNC1Li4uXHJcbiAgICBwYXRoLm9ubW91c2VvdXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIHN2Zy5yZW1vdmVDaGlsZCh0ZXh0QXJyWzFdKTtcclxuICAgICAgc3BhbkFyclswXS50ZXh0Q29udGVudCA9ICdDYXBpdGFsJztcclxuICAgICAgc3BhbkFyclsxXS50ZXh0Q29udGVudCA9ICckJyArIGNhcGl0YWwudG9Mb2NhbGVTdHJpbmcoJ2VuJyk7XHJcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZCh0ZXh0QXJyWzBdKTtcclxuICAgICAgYW5pbWF0ZSh7XHJcbiAgICAgICAgZWw6IHBhdGgsXHJcbiAgICAgICAgZHVyYXRpb246IDIwMDAsXHJcbiAgICAgICAgZGVsdGE6IG1ha2VFYXNlT3V0KGVsYXN0aWMsIDApLFxyXG4gICAgICAgIHN0ZXA6IChkZWx0YTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgKGRlbHRhICogKDEwMCAtIDE0MCkgKyAxNDApICsgJ3B4Jyk7XHJcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIFN0cmluZyhkZWx0YSAqICgxIC0gMC40KSArIDAuNCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINCf0LXRgNC10LzQtdC90L3QsNGPINC+0YLRgdGC0YPQv9CwINC+0YIg0L3QsNGH0LDQu9CwINC60L7QvtGA0LTQuNC90LDRglxyXG4gICAgYW5nbGVWYWwgKz0gZWxlbWVudFsxXTtcclxuICB9KTtcclxuXHJcbiAgLy8g0JHQu9C+0LrQuCDRgSDRgtC10LrRgdGC0L7QvFxyXG4gIGZvciAobGV0IHNwYW46IG51bWJlciA9IDA7IHNwYW4gPCA1OyBzcGFuKyspIHtcclxuICAgIGlmIChzcGFuIDwgMikge1xyXG4gICAgICAvLyDRgdC+0LfQtNCw0ZHQvCDRgtC10LrRgdGC0L7QstGL0LUg0LHQu9C+0LrQuCAo0LIg0LrQvtGC0L7RgNGL0YUg0LHRg9C00YPRgiDRgdGC0YDQvtC60Lggwqt0c3BhbsK7KVxyXG4gICAgICB0ZXh0QXJyW3NwYW5dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0ZXh0Jyk7XHJcbiAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcclxuICAgICAgdGV4dEFycltzcGFuXS5zZXRBdHRyaWJ1dGUoJ2ZvbnQtZmFtaWx5JywgJ0hlbHZldGljYScpO1xyXG4gICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsICcxJyk7XHJcbiAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMCcpO1xyXG4gICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgndGV4dC1yZW5kZXJpbmcnLCAnZ2VvbWV0cmljUHJlY2lzaW9uJyk7XHJcblxyXG4gICAgICAvLyAyINGB0YLRgNC+0LrQuCDQv9GA0Lgg0L7RgtCy0L7QtNC1INC80YvRiNC60L7QuS4uLlxyXG4gICAgICBzcGFuQXJyW3NwYW5dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgICBzcGFuQXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgneCcsIGAke3N2Z1dpZHRoIC8gMn1gKTtcclxuICAgICAgc3BhbkFycltzcGFuXS5zZXRBdHRyaWJ1dGUoJ2R5JywgJzUwJyk7XHJcblxyXG4gICAgICBpZiAoc3BhbiA9PT0gMCkge1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCAnNDAnKTtcclxuICAgICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCd5JywgJzE5MCcpO1xyXG4gICAgICAgIHNwYW5BcnJbMF0udGV4dENvbnRlbnQgPSAnVG90YWwnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3BhbiA9PT0gMSkge1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCAnMjInKTtcclxuICAgICAgICB0ZXh0QXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgnZm9udC13ZWlnaHQnLCAnbm9uZScpO1xyXG4gICAgICAgIHRleHRBcnJbc3Bhbl0uc2V0QXR0cmlidXRlKCd5JywgJzIwMCcpO1xyXG4gICAgICAgIHNwYW5BcnJbMV0udGV4dENvbnRlbnQgPSAnJCcgKyBjYXBpdGFsLnRvTG9jYWxlU3RyaW5nKCdlbicpO1xyXG4gICAgICB9XHJcbiAgICAgIHRleHRBcnJbMF0uYXBwZW5kQ2hpbGQoc3BhbkFycltzcGFuXSk7XHJcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZCh0ZXh0QXJyW3NwYW5dKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAzINGB0YLRgNC+0LrQuCDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INC80YvRiNC60L7QuS4uLlxyXG4gICAgaWYgKHNwYW4gPj0gMikge1xyXG4gICAgICBzcGFuQXJyW3NwYW5dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgICBzcGFuQXJyW3NwYW5dLnNldEF0dHJpYnV0ZSgneCcsIGAke3N2Z1dpZHRoIC8gMn1gKTtcclxuICAgICAgc3BhbkFycltzcGFuXS5zZXRBdHRyaWJ1dGUoJ2R5JywgJzMwJyk7XHJcbiAgICAgIHRleHRBcnJbMV0uYXBwZW5kQ2hpbGQoc3BhbkFycltzcGFuXSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIC0tLS0tLS0tLS0tIGNvcmUgb2YgYW5pbWF0aW9uIC0tLS0tLS0tLS0tLS0gLy9cclxuZXhwb3J0IGZ1bmN0aW9uIGFuaW1hdGUob3B0czogYW55KTogdm9pZCB7XHJcbiAgY29uc3QgZWwgPSBvcHRzLmVsIHx8IGZhbHNlO1xyXG4gIGNvbnN0IHN0YXJ0ID0gK25ldyBEYXRlKCk7XHJcbiAgY29uc3QgZGVsdGEgPSBvcHRzLmRlbHRhIHx8IGxpbmVhcjtcclxuICBjb25zdCBmcm9tID0gb3B0cy5mcm9tIHx8IDA7XHJcbiAgY29uc3QgdG8gPSAgb3B0cy50byB8fCAwO1xyXG4gIC8vIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbigpe2FsZXJ0KHRoaXMpO307XHJcbiAgaWYgKGVsKSB7XHJcbiAgICBjbGVhckludGVydmFsKG9wdHMuZWwudGltZXIpO1xyXG4gICAgb3B0cy5lbC50aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgbGV0IHByb2dyZXNzID0gKCtuZXcgRGF0ZSgpIC0gc3RhcnQpIC8gb3B0cy5kdXJhdGlvbjtcclxuXHJcbiAgICAgIGlmIChwcm9ncmVzcyA+IDEpIHsgcHJvZ3Jlc3MgPSAxOyB9XHJcblxyXG4gICAgICBvcHRzLnN0ZXAoZGVsdGEocHJvZ3Jlc3MpLCBmcm9tLCB0byk7XHJcblxyXG4gICAgICBpZiAocHJvZ3Jlc3MgPT09IDEpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKG9wdHMuZWwudGltZXIpO1xyXG4gICAgICAgIG9wdHMuY29tcGxldGUgJiYgb3B0cy5jb21wbGV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LCBvcHRzLmRlbGF5IHx8IDIwKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGxldCBwcm9ncmVzcyA9ICgrbmV3IERhdGUoKSAtIHN0YXJ0KSAvIG9wdHMuZHVyYXRpb247XHJcblxyXG4gICAgICBpZiAocHJvZ3Jlc3MgPiAxKSB7IHByb2dyZXNzID0gMTsgfVxyXG5cclxuICAgICAgb3B0cy5zdGVwKGRlbHRhKHByb2dyZXNzKSwgZnJvbSwgdG8pO1xyXG5cclxuICAgICAgaWYgKHByb2dyZXNzID09PSAxKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgb3B0cy5jb21wbGV0ZSAmJiBvcHRzLmNvbXBsZXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIG9wdHMuZGVsYXkgfHwgMTUpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLSBEZWx0YSBmb3IgYW5pbWF0aW9uIC0tLS0tLS0tLS0tLS0tLS0gLy9cclxuZnVuY3Rpb24gbGluZWFyKHByb2dyZXNzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gIHJldHVybiBwcm9ncmVzcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWMocHJvZ3Jlc3M6IG51bWJlcik6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgucG93KDIsIChwcm9ncmVzcyAtIDEpICogMTUpICogTWF0aC5jb3MoTWF0aC5QSSAqIDIwICogMS41IC8gMyAqIHByb2dyZXNzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YWQocHJvZ3Jlc3M6IG51bWJlcik6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgucG93KHByb2dyZXNzLCAyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFYXNlSW5PdXQoZGVsdGE6IGFueSk6IG9iamVjdCB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgaWYgKHByb2dyZXNzIDwgLjUpIHsgcmV0dXJuIGRlbHRhKHByb2dyZXNzICogMikgLyAyOyB9XHJcbiAgICByZXR1cm4gKDIgLSBkZWx0YSgoMSAtIHByb2dyZXNzKSAqIDIpKSAvIDI7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFYXNlT3V0KGRlbHRhOiBhbnksIHg6IG51bWJlcik6IG9iamVjdCB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb2dyZXNzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDEgLSBkZWx0YSgxIC0gcHJvZ3Jlc3MsIHgpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLSBHZXQgcmFuZG9tIGludCAtLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludCAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9